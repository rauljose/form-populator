const FormPopulator={populate(e,t={},r={},a=!0){if(!e||!e.nodeType)throw new Error("Container must be a valid DOM element");if("object"!=typeof t||null===t)throw new Error("Data must be a non-null object");for(let o in t)if(t.hasOwnProperty(o))try{const n=this._findElementsByNameOrId(e,o);if(0===n.length){console.log(`FormPopulator: No elements found for key '${o}' (tried name and id)`);continue}const i=t[o],s=r.hasOwnProperty(o);if(n.length>1||n[0]&&("radio"===n[0].type||"checkbox"===n[0].type)){const e="radio"===n[0].type,t="checkbox"===n[0].type;if(e){const e=String(i);n.forEach(t=>{t.checked=t.value==e,s&&this._setElementAttributes(t,r[o])})}else if(t){const e=Array.isArray(i)?i:[i];n.forEach(t=>{t.checked=e.includes(t.value),s&&this._setElementAttributes(t,r[o])})}}else{const e=n[0];this._populateElement(e,i,a),s&&this._setElementAttributes(e,r[o])}}catch(e){console.error(`FormPopulator: Error populating '${o}':`,e)}},getValuesByKey(e,t=[]){if(!e||!e.nodeType)throw new Error("Container must be a valid DOM element");if(!Array.isArray(t))throw new Error("Keys must be an array");const r={};for(const a of t)if("string"==typeof a)try{const t=this._findElementsByNameOrId(e,a);if(0===t.length)continue;if("radio"===t[0].type){const e=t.find(e=>e.checked);r[a]=e?e.value:""}else if("checkbox"===t[0].type){const e=t.filter(e=>e.checked).map(e=>e.value);1===e.length?r[a]=e[0]:e.length>1&&(r[a]=e)}else 1===t.length?r[a]=this._extractElementValue(t[0]):r[a]=t.map(e=>this._extractElementValue(e))}catch(e){console.error(`FormPopulator: Error extracting value for '${a}':`,e)}else console.warn(`FormPopulator: Invalid key type '${typeof a}', skipping`,a);return r},_findElementsByNameOrId(e,t){let r=e.querySelectorAll(`[name="${CSS.escape(t)}"]`);if(r.length>0)return Array.from(r);const a=e.querySelector(`#${CSS.escape(t)}`);return a?[a]:[]},_populateElement(e,t,r=!0){null==t&&(t="");switch(e.tagName.toLowerCase()){case"input":if("checkbox"===e.type||"radio"===e.type)break;if("file"===e.type)break;if("undefined"!=typeof AutoNumeric){const r=AutoNumeric.getAutoNumericElement(e);if(r){null==t?r.set(""):r.set(t);break}}e.value=t;break;case"textarea":e.value=String(t);break;case"select":this._populateSelect(e,t);break;case"img":case"video":case"audio":case"iframe":e.src=String(t);break;case"a":e.href=String(t);break;case"ul":case"ol":this._populateList(e,t);break;default:r?e.textContent=String(t):e.innerHTML=String(t)}},_populateSelect(e,t){if(this._clearSelect(e),!(null==t||Array.isArray(t)&&0===t.length||""===t)){if(e.tomselect){const r=Array.isArray(t)?t:[t];return e.tomselect.setValue(r,!0),void e.tomselect.sync()}if(e.selectize){const r=Array.isArray(t)?t:[t];return void e.selectize.setValue(r,!0)}if(void 0!==window.jQuery){const r=(0,window.jQuery)(e);if(r.data("chosen")){const e=Array.isArray(t)?t:[t];return void r.val(e).trigger("chosen:updated")}}if(Array.isArray(t))for(const r of e.options){const e=r.value;r.selected=t.some(t=>t==e)}else for(const r of e.options)if(t==r.value)return void(r.selected=!0)}},_clearSelect(e){if(e.tomselect)return e.tomselect.clear(!0),void e.tomselect.sync();if(e.selectize)e.selectize.clear(!0);else{if(void 0!==window.jQuery){const t=(0,window.jQuery)(e);if(t.data("chosen"))return void t.val(null).trigger("chosen:updated")}e.selectedIndex=-1}},_populateList(e,t){if(!Array.isArray(t))return void(e.innerHTML=this._escapeHtml(String(t)));const r=e.tagName.toLowerCase();e.innerHTML=t.map(e=>{if(Array.isArray(e)){const t=this._buildNestedListHtml(e,r);return`<li><${r}>${t}</${r}></li>`}return`<li>${this._escapeHtml(String(e))}</li>`}).join("")},_buildNestedListHtml(e,t){return e.map(e=>{if(Array.isArray(e)){const r=this._buildNestedListHtml(e,t);return`<li><${t}>${r}</${t}></li>`}return`<li>${this._escapeHtml(String(e))}</li>`}).join("")},_extractElementValue(e){switch(e.tagName.toLowerCase()){case"input":return this._extractInputValue(e);case"textarea":return e.value;case"select":return this._extractSelectValue(e);case"img":case"video":case"audio":case"iframe":return e.src||"";case"a":return e.href||"";default:return e.textContent||e.innerHTML}},_extractInputValue(e){switch(e.type.toLowerCase()){case"checkbox":case"radio":return e.checked?e.value:"";default:if("undefined"!=typeof AutoNumeric){const t=AutoNumeric.getAutoNumericElement(e);if(t){const e=t.getNumericString();return null===e?"":e}}return e.value||""}},_extractSelectValue:e=>e.multiple?Array.from(e.selectedOptions).map(e=>e.value):e.value,_setElementAttributes(e,t){for(let r in t)if(t.hasOwnProperty(r)){const a=t[r];r.toLowerCase().startsWith("data-")&&(e.dataset[this._toDatasetKey(r)]=a),null==a?e.removeAttribute(r):e.setAttribute(r,String(a))}},_toDatasetKey(e){let t=e.toLowerCase();return t.startsWith("data-")&&(t=t.slice(5)),t=t.replace(/-([a-z0-9])/g,(e,t)=>t.toUpperCase()),t.replace(/[^a-zA-Z0-9_$]/g,"")},_getElementAttributes(e){const t={};for(const r of e.attributes)t[r.name]=r.value;return t},_escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}};"undefined"!=typeof module&&module.exports&&(module.exports=FormPopulator);
//# sourceMappingURL=form-populator.min.js.map